-- /////////////////////////////////////////////////////////////
-- //            UI LIBRARY (UPLOAD THIS TO YOUR SITE)        //
-- /////////////////////////////////////////////////////////////

local Library = {}
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")

-- üåà RAINBOW EFFECT (This makes the Creator Name cycle colors)
local function ApplyRainbow(TextLabel)
    task.spawn(function()
        while true do
            local hue = tick() % 5 / 5 
            TextLabel.TextColor3 = Color3.fromHSV(hue, 1, 1) 
            RunService.Heartbeat:Wait()
        end
    end)
end

-- üñ±Ô∏è DRAGGING LOGIC
local function MakeDraggable(Frame)
    local dragging, dragInput, dragStart, startPos
    Frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = Frame.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then dragging = false end
            end)
        end
    end)
    UIS.InputChanged:Connect(function(input)
        if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
            local delta = input.Position - dragStart
            Frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end

-- üì¶ MAIN CREATE FUNCTION
function Library:Create(Config)
    local TitleText = Config.Title or "Default Title"
    local CreatorText = Config.Creator or "Default Creator"
    
    local Gui = Instance.new("ScreenGui", Players.LocalPlayer:WaitForChild("PlayerGui"))
    Gui.Name = "MyCustomUI"
    Gui.ResetOnSpawn = false

    local Main = Instance.new("Frame", Gui)
    Main.Size = UDim2.new(0, 220, 0, 50)
    Main.Position = UDim2.new(0.5, -110, 0.4, 0)
    Main.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Instance.new("UICorner", Main)
    MakeDraggable(Main)

    local TitleLabel = Instance.new("TextLabel", Main)
    TitleLabel.Size = UDim2.new(1, -10, 0, 30)
    TitleLabel.Position = UDim2.new(0, 10, 0, 0)
    TitleLabel.Text = TitleText
    TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    TitleLabel.BackgroundTransparency = 1
    TitleLabel.Font = Enum.Font.GothamBold
    TitleLabel.TextXAlignment = Enum.TextXAlignment.Left

    local CreatorLabel = Instance.new("TextLabel", Main)
    CreatorLabel.Size = UDim2.new(1, -10, 0, 15)
    CreatorLabel.Position = UDim2.new(0, 0, 0, 25)
    CreatorLabel.Text = "Created by: " .. CreatorText
    CreatorLabel.BackgroundTransparency = 1
    CreatorLabel.Font = Enum.Font.Gotham
    CreatorLabel.TextSize = 10
    CreatorLabel.TextXAlignment = Enum.TextXAlignment.Right
    ApplyRainbow(CreatorLabel) -- üåà Here is your Rainbow!

    local Container = Instance.new("Frame", Main)
    Container.Position = UDim2.new(0, 0, 0, 45)
    Container.Size = UDim2.new(1, 0, 0, 0)
    Container.BackgroundTransparency = 1
    local Layout = Instance.new("UIListLayout", Container)
    Layout.Padding = UDim.new(0, 5)
    Layout.HorizontalAlignment = Enum.HorizontalAlignment.Center

    -- Auto-resize Main Frame
    Layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        Main.Size = UDim2.new(0, 220, 0, Layout.AbsoluteContentSize.Y + 55)
    end)

    local Window = {}
    function Window:AddButton(text, callback)
        local Btn = Instance.new("TextButton", Container)
        Btn.Size = UDim2.new(0.9, 0, 0, 30)
        Btn.Text = text
        Btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
        Instance.new("UICorner", Btn)
        Btn.MouseButton1Click:Connect(callback)
    end
    
    return Window
end

return Library -- üëà THIS IS THE LINE YOU WERE LOOKING FOR!
